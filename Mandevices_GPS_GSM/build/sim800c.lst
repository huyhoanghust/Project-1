ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"sim800c.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.sim800c_debug,"ax",%progbits
  18              		.align	1
  19              		.global	sim800c_debug
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	sim800c_debug:
  25              	.LVL0:
  26              	.LFB68:
  27              		.file 1 "Core/Src/sim800c.c"
   1:Core/Src/sim800c.c **** #include "sim800c.h"
   2:Core/Src/sim800c.c **** 
   3:Core/Src/sim800c.c **** char simRxBuf[100] = {0};
   4:Core/Src/sim800c.c **** int simRxIndex = 0;
   5:Core/Src/sim800c.c **** char simRxData = '\0';
   6:Core/Src/sim800c.c **** char simRxResponse[100] = {0};
   7:Core/Src/sim800c.c **** simRxCpltStruct_t simRxCplt = SIM_NOT_RX_CPLT;
   8:Core/Src/sim800c.c **** 
   9:Core/Src/sim800c.c **** void sim800c_debug(uint8_t *pData, uint16_t Size, uint32_t Timeout)
  10:Core/Src/sim800c.c **** {
  28              		.loc 1 10 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 10 1 is_stmt 0 view .LVU1
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  38 0002 1346     		mov	r3, r2
  11:Core/Src/sim800c.c ****     HAL_UART_Transmit(&huart1, pData, Size , Timeout);
  39              		.loc 1 11 5 is_stmt 1 view .LVU2
  40 0004 0A46     		mov	r2, r1
  41              	.LVL1:
  42              		.loc 1 11 5 is_stmt 0 view .LVU3
  43 0006 0146     		mov	r1, r0
  44              	.LVL2:
  45              		.loc 1 11 5 view .LVU4
  46 0008 0148     		ldr	r0, .L3
  47              	.LVL3:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 2


  48              		.loc 1 11 5 view .LVU5
  49 000a FFF7FEFF 		bl	HAL_UART_Transmit
  50              	.LVL4:
  12:Core/Src/sim800c.c **** }
  51              		.loc 1 12 1 view .LVU6
  52 000e 08BD     		pop	{r3, pc}
  53              	.L4:
  54              		.align	2
  55              	.L3:
  56 0010 00000000 		.word	huart1
  57              		.cfi_endproc
  58              	.LFE68:
  60              		.section	.text.sim800c_sendCommand,"ax",%progbits
  61              		.align	1
  62              		.global	sim800c_sendCommand
  63              		.syntax unified
  64              		.thumb
  65              		.thumb_func
  67              	sim800c_sendCommand:
  68              	.LVL5:
  69              	.LFB70:
  13:Core/Src/sim800c.c **** 
  14:Core/Src/sim800c.c **** void sim800c_init(void)
  15:Core/Src/sim800c.c **** {
  16:Core/Src/sim800c.c ****     if(sim800c_sendCommand("ATE0\r\n", "OK\r\n", SIM_NOT_CHECK) != SIM_OK)
  17:Core/Src/sim800c.c ****     {
  18:Core/Src/sim800c.c ****         sim800c_errorHandle();
  19:Core/Src/sim800c.c ****     }
  20:Core/Src/sim800c.c ****     if(sim800c_sendCommand("AT\r\n", "OK\r\n", SIM_CHECK) != SIM_OK)
  21:Core/Src/sim800c.c ****     {
  22:Core/Src/sim800c.c ****         sim800c_errorHandle();
  23:Core/Src/sim800c.c ****     }
  24:Core/Src/sim800c.c ****     // sim800c_GSM_GPRS();    
  25:Core/Src/sim800c.c **** }
  26:Core/Src/sim800c.c **** 
  27:Core/Src/sim800c.c **** simState_t sim800c_sendCommand(char *simCommand, char *trueResponse, int checkOrNot)
  28:Core/Src/sim800c.c **** {   
  70              		.loc 1 28 1 is_stmt 1 view -0
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 0
  73              		@ frame_needed = 0, uses_anonymous_args = 0
  74              		.loc 1 28 1 is_stmt 0 view .LVU8
  75 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  76              	.LCFI1:
  77              		.cfi_def_cfa_offset 24
  78              		.cfi_offset 3, -24
  79              		.cfi_offset 4, -20
  80              		.cfi_offset 5, -16
  81              		.cfi_offset 6, -12
  82              		.cfi_offset 7, -8
  83              		.cfi_offset 14, -4
  84 0002 0446     		mov	r4, r0
  85 0004 0E46     		mov	r6, r1
  86 0006 1546     		mov	r5, r2
  29:Core/Src/sim800c.c ****     HAL_UART_Receive_IT(&huart2, (uint8_t*)&simRxData, 1);
  87              		.loc 1 29 5 is_stmt 1 view .LVU9
  88 0008 234F     		ldr	r7, .L11
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 3


  89 000a 0122     		movs	r2, #1
  90              	.LVL6:
  91              		.loc 1 29 5 is_stmt 0 view .LVU10
  92 000c 2349     		ldr	r1, .L11+4
  93              	.LVL7:
  94              		.loc 1 29 5 view .LVU11
  95 000e 3846     		mov	r0, r7
  96              	.LVL8:
  97              		.loc 1 29 5 view .LVU12
  98 0010 FFF7FEFF 		bl	HAL_UART_Receive_IT
  99              	.LVL9:
  30:Core/Src/sim800c.c ****     sim800c_debug((uint8_t*)simCommand, strlen(simCommand), 100);
 100              		.loc 1 30 5 is_stmt 1 view .LVU13
 101              		.loc 1 30 41 is_stmt 0 view .LVU14
 102 0014 2046     		mov	r0, r4
 103 0016 FFF7FEFF 		bl	strlen
 104              	.LVL10:
 105              		.loc 1 30 5 view .LVU15
 106 001a 6422     		movs	r2, #100
 107 001c 81B2     		uxth	r1, r0
 108 001e 2046     		mov	r0, r4
 109 0020 FFF7FEFF 		bl	sim800c_debug
 110              	.LVL11:
  31:Core/Src/sim800c.c ****     HAL_UART_Transmit_IT(&huart2, (uint8_t*)simCommand, strlen(simCommand));
 111              		.loc 1 31 5 is_stmt 1 view .LVU16
 112              		.loc 1 31 57 is_stmt 0 view .LVU17
 113 0024 2046     		mov	r0, r4
 114 0026 FFF7FEFF 		bl	strlen
 115              	.LVL12:
 116              		.loc 1 31 5 view .LVU18
 117 002a 82B2     		uxth	r2, r0
 118 002c 2146     		mov	r1, r4
 119 002e 3846     		mov	r0, r7
 120 0030 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 121              	.LVL13:
  32:Core/Src/sim800c.c ****     HAL_TIM_Base_Start_IT(&htim2);
 122              		.loc 1 32 5 is_stmt 1 view .LVU19
 123 0034 1A48     		ldr	r0, .L11+8
 124 0036 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 125              	.LVL14:
  33:Core/Src/sim800c.c ****     while(!(simRxCplt == SIM_RX_CPLT));
 126              		.loc 1 33 5 view .LVU20
 127              	.L6:
 128              		.loc 1 33 39 discriminator 1 view .LVU21
 129              		.loc 1 33 10 discriminator 1 view .LVU22
 130              		.loc 1 33 11 is_stmt 0 discriminator 1 view .LVU23
 131 003a 1A4B     		ldr	r3, .L11+12
 132 003c 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 133              		.loc 1 33 10 discriminator 1 view .LVU24
 134 003e 012C     		cmp	r4, #1
 135 0040 FBD1     		bne	.L6
  34:Core/Src/sim800c.c ****     sim800c_debug((uint8_t*)simRxResponse, strlen(simRxResponse), 100);
 136              		.loc 1 34 5 is_stmt 1 view .LVU25
 137              		.loc 1 34 44 is_stmt 0 view .LVU26
 138 0042 194F     		ldr	r7, .L11+16
 139 0044 3846     		mov	r0, r7
 140 0046 FFF7FEFF 		bl	strlen
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 4


 141              	.LVL15:
 142              		.loc 1 34 5 view .LVU27
 143 004a 6422     		movs	r2, #100
 144 004c 81B2     		uxth	r1, r0
 145 004e 3846     		mov	r0, r7
 146 0050 FFF7FEFF 		bl	sim800c_debug
 147              	.LVL16:
  35:Core/Src/sim800c.c ****     //check respone from sim 
  36:Core/Src/sim800c.c ****     if((checkOrNot == SIM_CHECK) && (strstr(simRxResponse, trueResponse) == NULL))
 148              		.loc 1 36 5 is_stmt 1 view .LVU28
 149              		.loc 1 36 7 is_stmt 0 view .LVU29
 150 0054 012D     		cmp	r5, #1
 151 0056 04D1     		bne	.L7
 152              		.loc 1 36 38 discriminator 1 view .LVU30
 153 0058 3146     		mov	r1, r6
 154 005a 3846     		mov	r0, r7
 155 005c FFF7FEFF 		bl	strstr
 156              	.LVL17:
 157              		.loc 1 36 34 discriminator 1 view .LVU31
 158 0060 68B1     		cbz	r0, .L10
 159              	.L7:
  37:Core/Src/sim800c.c ****     {
  38:Core/Src/sim800c.c ****         memset(simRxResponse, '\0', strlen(simRxResponse));
  39:Core/Src/sim800c.c ****         simRxCplt = SIM_NOT_RX_CPLT;
  40:Core/Src/sim800c.c ****         return SIM_NOT_OK;
  41:Core/Src/sim800c.c ****     }
  42:Core/Src/sim800c.c ****     memset(simRxResponse, '\0', strlen(simRxResponse));
 160              		.loc 1 42 5 is_stmt 1 view .LVU32
 161 0062 114D     		ldr	r5, .L11+16
 162              	.LVL18:
 163              		.loc 1 42 5 is_stmt 0 view .LVU33
 164 0064 2846     		mov	r0, r5
 165 0066 FFF7FEFF 		bl	strlen
 166              	.LVL19:
 167 006a 0246     		mov	r2, r0
 168 006c 0021     		movs	r1, #0
 169 006e 2846     		mov	r0, r5
 170 0070 FFF7FEFF 		bl	memset
 171              	.LVL20:
  43:Core/Src/sim800c.c ****     simRxCplt = SIM_NOT_RX_CPLT;
 172              		.loc 1 43 5 is_stmt 1 view .LVU34
 173              		.loc 1 43 15 is_stmt 0 view .LVU35
 174 0074 0B4B     		ldr	r3, .L11+12
 175 0076 0022     		movs	r2, #0
 176 0078 1A70     		strb	r2, [r3]
  44:Core/Src/sim800c.c ****     return SIM_OK;
 177              		.loc 1 44 5 is_stmt 1 view .LVU36
 178              	.L8:
  45:Core/Src/sim800c.c **** }
 179              		.loc 1 45 1 is_stmt 0 view .LVU37
 180 007a 2046     		mov	r0, r4
 181 007c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 182              	.LVL21:
 183              	.L10:
  38:Core/Src/sim800c.c ****         simRxCplt = SIM_NOT_RX_CPLT;
 184              		.loc 1 38 9 is_stmt 1 view .LVU38
 185 007e 3846     		mov	r0, r7
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 5


 186 0080 FFF7FEFF 		bl	strlen
 187              	.LVL22:
 188 0084 0246     		mov	r2, r0
 189 0086 0021     		movs	r1, #0
 190 0088 3846     		mov	r0, r7
 191 008a FFF7FEFF 		bl	memset
 192              	.LVL23:
  39:Core/Src/sim800c.c ****         return SIM_NOT_OK;
 193              		.loc 1 39 9 view .LVU39
  39:Core/Src/sim800c.c ****         return SIM_NOT_OK;
 194              		.loc 1 39 19 is_stmt 0 view .LVU40
 195 008e 0024     		movs	r4, #0
 196 0090 044B     		ldr	r3, .L11+12
 197 0092 1C70     		strb	r4, [r3]
  40:Core/Src/sim800c.c ****     }
 198              		.loc 1 40 9 is_stmt 1 view .LVU41
  40:Core/Src/sim800c.c ****     }
 199              		.loc 1 40 16 is_stmt 0 view .LVU42
 200 0094 F1E7     		b	.L8
 201              	.L12:
 202 0096 00BF     		.align	2
 203              	.L11:
 204 0098 00000000 		.word	huart2
 205 009c 00000000 		.word	.LANCHOR0
 206 00a0 00000000 		.word	htim2
 207 00a4 00000000 		.word	.LANCHOR1
 208 00a8 00000000 		.word	.LANCHOR2
 209              		.cfi_endproc
 210              	.LFE70:
 212              		.section	.rodata.sim800c_callback.str1.4,"aMS",%progbits,1
 213              		.align	2
 214              	.LC0:
 215 0000 0D0A00   		.ascii	"\015\012\000"
 216              		.section	.text.sim800c_callback,"ax",%progbits
 217              		.align	1
 218              		.global	sim800c_callback
 219              		.syntax unified
 220              		.thumb
 221              		.thumb_func
 223              	sim800c_callback:
 224              	.LFB71:
  46:Core/Src/sim800c.c **** //check response from Sim and delete Buffer
  47:Core/Src/sim800c.c **** void sim800c_callback(void)
  48:Core/Src/sim800c.c **** {
 225              		.loc 1 48 1 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 0
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229 0000 10B5     		push	{r4, lr}
 230              	.LCFI2:
 231              		.cfi_def_cfa_offset 8
 232              		.cfi_offset 4, -8
 233              		.cfi_offset 14, -4
  49:Core/Src/sim800c.c ****     htim2.Instance->CNT = 0;
 234              		.loc 1 49 5 view .LVU44
 235              		.loc 1 49 10 is_stmt 0 view .LVU45
 236 0002 134B     		ldr	r3, .L17
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 6


 237 0004 1B68     		ldr	r3, [r3]
 238              		.loc 1 49 25 view .LVU46
 239 0006 0022     		movs	r2, #0
 240 0008 5A62     		str	r2, [r3, #36]
  50:Core/Src/sim800c.c ****     simRxBuf[simRxIndex++] = simRxData;
 241              		.loc 1 50 5 is_stmt 1 view .LVU47
 242              		.loc 1 50 24 is_stmt 0 view .LVU48
 243 000a 124A     		ldr	r2, .L17+4
 244 000c 1368     		ldr	r3, [r2]
 245 000e 591C     		adds	r1, r3, #1
 246 0010 1160     		str	r1, [r2]
 247              		.loc 1 50 28 view .LVU49
 248 0012 114C     		ldr	r4, .L17+8
 249 0014 1149     		ldr	r1, .L17+12
 250 0016 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 251 0018 E254     		strb	r2, [r4, r3]
  51:Core/Src/sim800c.c ****     HAL_UART_Receive_IT(&huart2, (uint8_t*)&simRxData, 1);
 252              		.loc 1 51 5 is_stmt 1 view .LVU50
 253 001a 0122     		movs	r2, #1
 254 001c 1048     		ldr	r0, .L17+16
 255 001e FFF7FEFF 		bl	HAL_UART_Receive_IT
 256              	.LVL24:
  52:Core/Src/sim800c.c ****     if((strstr(simRxBuf, "\r\n") != NULL) && (simRxIndex == 2))
 257              		.loc 1 52 5 view .LVU51
 258              		.loc 1 52 9 is_stmt 0 view .LVU52
 259 0022 1049     		ldr	r1, .L17+20
 260 0024 2046     		mov	r0, r4
 261 0026 FFF7FEFF 		bl	strstr
 262              	.LVL25:
 263              		.loc 1 52 7 view .LVU53
 264 002a 18B1     		cbz	r0, .L13
 265              		.loc 1 52 58 discriminator 1 view .LVU54
 266 002c 094B     		ldr	r3, .L17+4
 267 002e 1B68     		ldr	r3, [r3]
 268              		.loc 1 52 43 discriminator 1 view .LVU55
 269 0030 022B     		cmp	r3, #2
 270 0032 00D0     		beq	.L16
 271              	.L13:
  53:Core/Src/sim800c.c ****     {
  54:Core/Src/sim800c.c ****         memset(simRxBuf, '\0', strlen(simRxBuf));
  55:Core/Src/sim800c.c ****         simRxIndex = 0;
  56:Core/Src/sim800c.c ****     }
  57:Core/Src/sim800c.c **** }
 272              		.loc 1 57 1 view .LVU56
 273 0034 10BD     		pop	{r4, pc}
 274              	.L16:
  54:Core/Src/sim800c.c ****         simRxIndex = 0;
 275              		.loc 1 54 9 is_stmt 1 view .LVU57
 276 0036 2046     		mov	r0, r4
 277 0038 FFF7FEFF 		bl	strlen
 278              	.LVL26:
 279 003c 0246     		mov	r2, r0
 280 003e 0021     		movs	r1, #0
 281 0040 2046     		mov	r0, r4
 282 0042 FFF7FEFF 		bl	memset
 283              	.LVL27:
  55:Core/Src/sim800c.c ****     }
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 7


 284              		.loc 1 55 9 view .LVU58
  55:Core/Src/sim800c.c ****     }
 285              		.loc 1 55 20 is_stmt 0 view .LVU59
 286 0046 034B     		ldr	r3, .L17+4
 287 0048 0022     		movs	r2, #0
 288 004a 1A60     		str	r2, [r3]
 289              		.loc 1 57 1 view .LVU60
 290 004c F2E7     		b	.L13
 291              	.L18:
 292 004e 00BF     		.align	2
 293              	.L17:
 294 0050 00000000 		.word	htim2
 295 0054 00000000 		.word	.LANCHOR3
 296 0058 00000000 		.word	.LANCHOR4
 297 005c 00000000 		.word	.LANCHOR0
 298 0060 00000000 		.word	huart2
 299 0064 00000000 		.word	.LC0
 300              		.cfi_endproc
 301              	.LFE71:
 303              		.section	.text.sim800c_timerCallback,"ax",%progbits
 304              		.align	1
 305              		.global	sim800c_timerCallback
 306              		.syntax unified
 307              		.thumb
 308              		.thumb_func
 310              	sim800c_timerCallback:
 311              	.LFB72:
  58:Core/Src/sim800c.c **** //wait
  59:Core/Src/sim800c.c **** void sim800c_timerCallback(void)
  60:Core/Src/sim800c.c **** {
 312              		.loc 1 60 1 is_stmt 1 view -0
 313              		.cfi_startproc
 314              		@ args = 0, pretend = 0, frame = 0
 315              		@ frame_needed = 0, uses_anonymous_args = 0
 316 0000 38B5     		push	{r3, r4, r5, lr}
 317              	.LCFI3:
 318              		.cfi_def_cfa_offset 16
 319              		.cfi_offset 3, -16
 320              		.cfi_offset 4, -12
 321              		.cfi_offset 5, -8
 322              		.cfi_offset 14, -4
  61:Core/Src/sim800c.c ****     HAL_TIM_Base_Stop_IT(&htim2);
 323              		.loc 1 61 5 view .LVU62
 324 0002 164C     		ldr	r4, .L23
 325 0004 2046     		mov	r0, r4
 326 0006 FFF7FEFF 		bl	HAL_TIM_Base_Stop_IT
 327              	.LVL28:
  62:Core/Src/sim800c.c ****     htim2.Instance->CNT = 0;
 328              		.loc 1 62 5 view .LVU63
 329              		.loc 1 62 10 is_stmt 0 view .LVU64
 330 000a 2368     		ldr	r3, [r4]
 331              		.loc 1 62 25 view .LVU65
 332 000c 0022     		movs	r2, #0
 333 000e 5A62     		str	r2, [r3, #36]
  63:Core/Src/sim800c.c ****     if((strstr(simRxBuf, "\r\n") != NULL) | (strstr(simRxBuf, ">") != NULL))
 334              		.loc 1 63 5 is_stmt 1 view .LVU66
 335              		.loc 1 63 9 is_stmt 0 view .LVU67
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 8


 336 0010 134D     		ldr	r5, .L23+4
 337 0012 1449     		ldr	r1, .L23+8
 338 0014 2846     		mov	r0, r5
 339 0016 FFF7FEFF 		bl	strstr
 340              	.LVL29:
 341 001a 0446     		mov	r4, r0
 342              		.loc 1 63 46 view .LVU68
 343 001c 3E21     		movs	r1, #62
 344 001e 2846     		mov	r0, r5
 345 0020 FFF7FEFF 		bl	strchr
 346              	.LVL30:
 347              		.loc 1 63 7 view .LVU69
 348 0024 0028     		cmp	r0, #0
 349 0026 08BF     		it	eq
 350 0028 002C     		cmpeq	r4, #0
 351 002a 03D1     		bne	.L22
 352              	.L20:
  64:Core/Src/sim800c.c ****     {
  65:Core/Src/sim800c.c ****         memcpy(simRxResponse, simRxBuf, strlen(simRxBuf));
  66:Core/Src/sim800c.c ****         memset(simRxBuf, '\0', strlen(simRxBuf));
  67:Core/Src/sim800c.c ****         simRxIndex = 0;
  68:Core/Src/sim800c.c ****     }
  69:Core/Src/sim800c.c ****     simRxCplt = SIM_RX_CPLT;
 353              		.loc 1 69 5 is_stmt 1 view .LVU70
 354              		.loc 1 69 15 is_stmt 0 view .LVU71
 355 002c 0E4B     		ldr	r3, .L23+12
 356 002e 0122     		movs	r2, #1
 357 0030 1A70     		strb	r2, [r3]
  70:Core/Src/sim800c.c **** }
 358              		.loc 1 70 1 view .LVU72
 359 0032 38BD     		pop	{r3, r4, r5, pc}
 360              	.L22:
  65:Core/Src/sim800c.c ****         memset(simRxBuf, '\0', strlen(simRxBuf));
 361              		.loc 1 65 9 is_stmt 1 view .LVU73
 362 0034 2846     		mov	r0, r5
 363 0036 FFF7FEFF 		bl	strlen
 364              	.LVL31:
 365 003a 0246     		mov	r2, r0
 366 003c 2946     		mov	r1, r5
 367 003e 0B48     		ldr	r0, .L23+16
 368 0040 FFF7FEFF 		bl	memcpy
 369              	.LVL32:
  66:Core/Src/sim800c.c ****         simRxIndex = 0;
 370              		.loc 1 66 9 view .LVU74
 371 0044 2846     		mov	r0, r5
 372 0046 FFF7FEFF 		bl	strlen
 373              	.LVL33:
 374 004a 0246     		mov	r2, r0
 375 004c 0021     		movs	r1, #0
 376 004e 2846     		mov	r0, r5
 377 0050 FFF7FEFF 		bl	memset
 378              	.LVL34:
  67:Core/Src/sim800c.c ****     }
 379              		.loc 1 67 9 view .LVU75
  67:Core/Src/sim800c.c ****     }
 380              		.loc 1 67 20 is_stmt 0 view .LVU76
 381 0054 064B     		ldr	r3, .L23+20
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 9


 382 0056 0022     		movs	r2, #0
 383 0058 1A60     		str	r2, [r3]
 384 005a E7E7     		b	.L20
 385              	.L24:
 386              		.align	2
 387              	.L23:
 388 005c 00000000 		.word	htim2
 389 0060 00000000 		.word	.LANCHOR4
 390 0064 00000000 		.word	.LC0
 391 0068 00000000 		.word	.LANCHOR1
 392 006c 00000000 		.word	.LANCHOR2
 393 0070 00000000 		.word	.LANCHOR3
 394              		.cfi_endproc
 395              	.LFE72:
 397              		.section	.rodata.sim800c_sleep.str1.4,"aMS",%progbits,1
 398              		.align	2
 399              	.LC1:
 400 0000 41542B43 		.ascii	"AT+CSCLK=2\015\012\000"
 400      53434C4B 
 400      3D320D0A 
 400      00
 401              		.section	.text.sim800c_sleep,"ax",%progbits
 402              		.align	1
 403              		.global	sim800c_sleep
 404              		.syntax unified
 405              		.thumb
 406              		.thumb_func
 408              	sim800c_sleep:
 409              	.LFB74:
  71:Core/Src/sim800c.c **** 
  72:Core/Src/sim800c.c **** void sim800c_sendSMS(char *latData, char *longData, char *simNumber, char *simMessage)
  73:Core/Src/sim800c.c **** {
  74:Core/Src/sim800c.c ****     char smsATCommand[50] = {0};
  75:Core/Src/sim800c.c ****     char endSMS[2] = {0};
  76:Core/Src/sim800c.c ****     endSMS[0] = 0x1A;
  77:Core/Src/sim800c.c ****     endSMS[1] = '\0';
  78:Core/Src/sim800c.c ****     sprintf(smsATCommand, "AT+CMGS=\"%s\"\r\n", simNumber);
  79:Core/Src/sim800c.c ****     if(sim800c_sendCommand("AT+CMGF=1\r\n", "OK\r\n", SIM_CHECK) != SIM_OK)
  80:Core/Src/sim800c.c ****     {
  81:Core/Src/sim800c.c ****         sim800c_errorHandle();
  82:Core/Src/sim800c.c ****     }
  83:Core/Src/sim800c.c ****     if(sim800c_sendCommand(smsATCommand, ">", SIM_CHECK) != SIM_OK)
  84:Core/Src/sim800c.c ****     {
  85:Core/Src/sim800c.c ****         sim800c_errorHandle();
  86:Core/Src/sim800c.c ****     }
  87:Core/Src/sim800c.c ****     if(sim800c_sendCommand(simMessage, NULL, SIM_NOT_CHECK) != SIM_OK)
  88:Core/Src/sim800c.c ****     {
  89:Core/Src/sim800c.c ****         sim800c_errorHandle();
  90:Core/Src/sim800c.c ****     }
  91:Core/Src/sim800c.c ****     if(sim800c_sendCommand(endSMS, NULL, SIM_NOT_CHECK) != SIM_OK)
  92:Core/Src/sim800c.c ****     {
  93:Core/Src/sim800c.c ****         sim800c_errorHandle();
  94:Core/Src/sim800c.c ****     }
  95:Core/Src/sim800c.c **** }
  96:Core/Src/sim800c.c **** 
  97:Core/Src/sim800c.c **** void sim800c_sleep(void)
  98:Core/Src/sim800c.c **** {
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 10


 410              		.loc 1 98 1 is_stmt 1 view -0
 411              		.cfi_startproc
 412              		@ args = 0, pretend = 0, frame = 0
 413              		@ frame_needed = 0, uses_anonymous_args = 0
 414 0000 08B5     		push	{r3, lr}
 415              	.LCFI4:
 416              		.cfi_def_cfa_offset 8
 417              		.cfi_offset 3, -8
 418              		.cfi_offset 14, -4
  99:Core/Src/sim800c.c ****     HAL_UART_Transmit(&huart2, (uint8_t*)"AT+CSCLK=2\r\n", strlen("AT+CSCLK=2\r\n"),100);
 419              		.loc 1 99 5 view .LVU78
 420 0002 6423     		movs	r3, #100
 421 0004 0C22     		movs	r2, #12
 422 0006 0249     		ldr	r1, .L27
 423 0008 0248     		ldr	r0, .L27+4
 424 000a FFF7FEFF 		bl	HAL_UART_Transmit
 425              	.LVL35:
 100:Core/Src/sim800c.c **** }
 426              		.loc 1 100 1 is_stmt 0 view .LVU79
 427 000e 08BD     		pop	{r3, pc}
 428              	.L28:
 429              		.align	2
 430              	.L27:
 431 0010 00000000 		.word	.LC1
 432 0014 00000000 		.word	huart2
 433              		.cfi_endproc
 434              	.LFE74:
 436              		.section	.rodata.sim800c_wakeup.str1.4,"aMS",%progbits,1
 437              		.align	2
 438              	.LC2:
 439 0000 41540D0A 		.ascii	"AT\015\012\000"
 439      00
 440 0005 000000   		.align	2
 441              	.LC3:
 442 0008 41542B43 		.ascii	"AT+CSCLK=0\015\012\000"
 442      53434C4B 
 442      3D300D0A 
 442      00
 443              		.section	.text.sim800c_wakeup,"ax",%progbits
 444              		.align	1
 445              		.global	sim800c_wakeup
 446              		.syntax unified
 447              		.thumb
 448              		.thumb_func
 450              	sim800c_wakeup:
 451              	.LFB75:
 101:Core/Src/sim800c.c **** 
 102:Core/Src/sim800c.c **** void sim800c_wakeup(void)
 103:Core/Src/sim800c.c **** {
 452              		.loc 1 103 1 is_stmt 1 view -0
 453              		.cfi_startproc
 454              		@ args = 0, pretend = 0, frame = 0
 455              		@ frame_needed = 0, uses_anonymous_args = 0
 456 0000 10B5     		push	{r4, lr}
 457              	.LCFI5:
 458              		.cfi_def_cfa_offset 8
 459              		.cfi_offset 4, -8
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 11


 460              		.cfi_offset 14, -4
 104:Core/Src/sim800c.c ****     HAL_UART_Transmit(&huart2, (uint8_t*)"AT\r\n", strlen("AT\r\n"),100);
 461              		.loc 1 104 5 view .LVU81
 462 0002 084C     		ldr	r4, .L31
 463 0004 6423     		movs	r3, #100
 464 0006 0422     		movs	r2, #4
 465 0008 0749     		ldr	r1, .L31+4
 466 000a 2046     		mov	r0, r4
 467 000c FFF7FEFF 		bl	HAL_UART_Transmit
 468              	.LVL36:
 105:Core/Src/sim800c.c ****     HAL_Delay(100);
 469              		.loc 1 105 5 view .LVU82
 470 0010 6420     		movs	r0, #100
 471 0012 FFF7FEFF 		bl	HAL_Delay
 472              	.LVL37:
 106:Core/Src/sim800c.c ****     HAL_UART_Transmit(&huart2, (uint8_t*)"AT+CSCLK=0\r\n", strlen("AT+CSCLK=0\r\n"),100);
 473              		.loc 1 106 5 view .LVU83
 474 0016 6423     		movs	r3, #100
 475 0018 0C22     		movs	r2, #12
 476 001a 0449     		ldr	r1, .L31+8
 477 001c 2046     		mov	r0, r4
 478 001e FFF7FEFF 		bl	HAL_UART_Transmit
 479              	.LVL38:
 107:Core/Src/sim800c.c **** }
 480              		.loc 1 107 1 is_stmt 0 view .LVU84
 481 0022 10BD     		pop	{r4, pc}
 482              	.L32:
 483              		.align	2
 484              	.L31:
 485 0024 00000000 		.word	huart2
 486 0028 00000000 		.word	.LC2
 487 002c 08000000 		.word	.LC3
 488              		.cfi_endproc
 489              	.LFE75:
 491              		.section	.rodata.sim800c_errorHandle.str1.4,"aMS",%progbits,1
 492              		.align	2
 493              	.LC4:
 494 0000 53696D20 		.ascii	"Sim error\015\012\000"
 494      6572726F 
 494      720D0A00 
 495              		.section	.text.sim800c_errorHandle,"ax",%progbits
 496              		.align	1
 497              		.global	sim800c_errorHandle
 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 502              	sim800c_errorHandle:
 503              	.LFB76:
 108:Core/Src/sim800c.c **** 
 109:Core/Src/sim800c.c **** void sim800c_errorHandle(void)
 110:Core/Src/sim800c.c **** {
 504              		.loc 1 110 1 is_stmt 1 view -0
 505              		.cfi_startproc
 506              		@ Volatile: function does not return.
 507              		@ args = 0, pretend = 0, frame = 0
 508              		@ frame_needed = 0, uses_anonymous_args = 0
 509 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 12


 510              	.LCFI6:
 511              		.cfi_def_cfa_offset 8
 512              		.cfi_offset 3, -8
 513              		.cfi_offset 14, -4
 111:Core/Src/sim800c.c ****     sim800c_debug((uint8_t*)"Sim error\r\n", strlen("Sim error\r\n"), 100);
 514              		.loc 1 111 5 view .LVU86
 515 0002 6422     		movs	r2, #100
 516 0004 0B21     		movs	r1, #11
 517 0006 0248     		ldr	r0, .L36
 518 0008 FFF7FEFF 		bl	sim800c_debug
 519              	.LVL39:
 112:Core/Src/sim800c.c ****     __disable_irq();
 520              		.loc 1 112 5 view .LVU87
 521              	.LBB4:
 522              	.LBI4:
 523              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 13


  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 14


  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 524              		.loc 2 140 27 view .LVU88
 525              	.LBB5:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 526              		.loc 2 142 3 view .LVU89
 527              		.syntax unified
 528              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 529 000c 72B6     		cpsid i
 530              	@ 0 "" 2
 531              		.thumb
 532              		.syntax unified
 533              	.L34:
 534              	.LBE5:
 535              	.LBE4:
 113:Core/Src/sim800c.c ****     while(1)
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 15


 536              		.loc 1 113 5 discriminator 1 view .LVU90
 114:Core/Src/sim800c.c ****     {
 115:Core/Src/sim800c.c **** 
 116:Core/Src/sim800c.c ****     }
 537              		.loc 1 116 5 discriminator 1 view .LVU91
 113:Core/Src/sim800c.c ****     while(1)
 538              		.loc 1 113 10 discriminator 1 view .LVU92
 539 000e FEE7     		b	.L34
 540              	.L37:
 541              		.align	2
 542              	.L36:
 543 0010 00000000 		.word	.LC4
 544              		.cfi_endproc
 545              	.LFE76:
 547              		.section	.rodata.sim800c_init.str1.4,"aMS",%progbits,1
 548              		.align	2
 549              	.LC5:
 550 0000 4F4B0D0A 		.ascii	"OK\015\012\000"
 550      00
 551 0005 000000   		.align	2
 552              	.LC6:
 553 0008 41544530 		.ascii	"ATE0\015\012\000"
 553      0D0A00
 554              		.section	.text.sim800c_init,"ax",%progbits
 555              		.align	1
 556              		.global	sim800c_init
 557              		.syntax unified
 558              		.thumb
 559              		.thumb_func
 561              	sim800c_init:
 562              	.LFB69:
  15:Core/Src/sim800c.c ****     if(sim800c_sendCommand("ATE0\r\n", "OK\r\n", SIM_NOT_CHECK) != SIM_OK)
 563              		.loc 1 15 1 view -0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567 0000 08B5     		push	{r3, lr}
 568              	.LCFI7:
 569              		.cfi_def_cfa_offset 8
 570              		.cfi_offset 3, -8
 571              		.cfi_offset 14, -4
  16:Core/Src/sim800c.c ****     {
 572              		.loc 1 16 5 view .LVU94
  16:Core/Src/sim800c.c ****     {
 573              		.loc 1 16 8 is_stmt 0 view .LVU95
 574 0002 0022     		movs	r2, #0
 575 0004 0849     		ldr	r1, .L44
 576 0006 0948     		ldr	r0, .L44+4
 577 0008 FFF7FEFF 		bl	sim800c_sendCommand
 578              	.LVL40:
  16:Core/Src/sim800c.c ****     {
 579              		.loc 1 16 7 view .LVU96
 580 000c 0128     		cmp	r0, #1
 581 000e 07D1     		bne	.L42
  20:Core/Src/sim800c.c ****     {
 582              		.loc 1 20 5 is_stmt 1 view .LVU97
  20:Core/Src/sim800c.c ****     {
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 16


 583              		.loc 1 20 8 is_stmt 0 view .LVU98
 584 0010 0122     		movs	r2, #1
 585 0012 0549     		ldr	r1, .L44
 586 0014 0648     		ldr	r0, .L44+8
 587 0016 FFF7FEFF 		bl	sim800c_sendCommand
 588              	.LVL41:
  20:Core/Src/sim800c.c ****     {
 589              		.loc 1 20 7 view .LVU99
 590 001a 0128     		cmp	r0, #1
 591 001c 02D1     		bne	.L43
  25:Core/Src/sim800c.c **** 
 592              		.loc 1 25 1 view .LVU100
 593 001e 08BD     		pop	{r3, pc}
 594              	.L42:
  18:Core/Src/sim800c.c ****     }
 595              		.loc 1 18 9 is_stmt 1 view .LVU101
 596 0020 FFF7FEFF 		bl	sim800c_errorHandle
 597              	.LVL42:
 598              	.L43:
  22:Core/Src/sim800c.c ****     }
 599              		.loc 1 22 9 view .LVU102
 600 0024 FFF7FEFF 		bl	sim800c_errorHandle
 601              	.LVL43:
 602              	.L45:
 603              		.align	2
 604              	.L44:
 605 0028 00000000 		.word	.LC5
 606 002c 08000000 		.word	.LC6
 607 0030 00000000 		.word	.LC2
 608              		.cfi_endproc
 609              	.LFE69:
 611              		.section	.rodata.sim800c_sendSMS.str1.4,"aMS",%progbits,1
 612              		.align	2
 613              	.LC7:
 614 0000 41542B43 		.ascii	"AT+CMGS=\"%s\"\015\012\000"
 614      4D47533D 
 614      22257322 
 614      0D0A00
 615 000f 00       		.align	2
 616              	.LC8:
 617 0010 41542B43 		.ascii	"AT+CMGF=1\015\012\000"
 617      4D47463D 
 617      310D0A00 
 618              		.align	2
 619              	.LC9:
 620 001c 3E00     		.ascii	">\000"
 621              		.section	.text.sim800c_sendSMS,"ax",%progbits
 622              		.align	1
 623              		.global	sim800c_sendSMS
 624              		.syntax unified
 625              		.thumb
 626              		.thumb_func
 628              	sim800c_sendSMS:
 629              	.LVL44:
 630              	.LFB73:
  73:Core/Src/sim800c.c ****     char smsATCommand[50] = {0};
 631              		.loc 1 73 1 view -0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 17


 632              		.cfi_startproc
 633              		@ args = 0, pretend = 0, frame = 56
 634              		@ frame_needed = 0, uses_anonymous_args = 0
  73:Core/Src/sim800c.c ****     char smsATCommand[50] = {0};
 635              		.loc 1 73 1 is_stmt 0 view .LVU104
 636 0000 70B5     		push	{r4, r5, r6, lr}
 637              	.LCFI8:
 638              		.cfi_def_cfa_offset 16
 639              		.cfi_offset 4, -16
 640              		.cfi_offset 5, -12
 641              		.cfi_offset 6, -8
 642              		.cfi_offset 14, -4
 643 0002 8EB0     		sub	sp, sp, #56
 644              	.LCFI9:
 645              		.cfi_def_cfa_offset 72
 646 0004 1446     		mov	r4, r2
 647 0006 1E46     		mov	r6, r3
  74:Core/Src/sim800c.c ****     char endSMS[2] = {0};
 648              		.loc 1 74 5 is_stmt 1 view .LVU105
  74:Core/Src/sim800c.c ****     char endSMS[2] = {0};
 649              		.loc 1 74 10 is_stmt 0 view .LVU106
 650 0008 0025     		movs	r5, #0
 651 000a 0195     		str	r5, [sp, #4]
 652 000c 2E22     		movs	r2, #46
 653              	.LVL45:
  74:Core/Src/sim800c.c ****     char endSMS[2] = {0};
 654              		.loc 1 74 10 view .LVU107
 655 000e 2946     		mov	r1, r5
 656              	.LVL46:
  74:Core/Src/sim800c.c ****     char endSMS[2] = {0};
 657              		.loc 1 74 10 view .LVU108
 658 0010 02A8     		add	r0, sp, #8
 659              	.LVL47:
  74:Core/Src/sim800c.c ****     char endSMS[2] = {0};
 660              		.loc 1 74 10 view .LVU109
 661 0012 FFF7FEFF 		bl	memset
 662              	.LVL48:
  75:Core/Src/sim800c.c ****     endSMS[0] = 0x1A;
 663              		.loc 1 75 5 is_stmt 1 view .LVU110
  75:Core/Src/sim800c.c ****     endSMS[0] = 0x1A;
 664              		.loc 1 75 10 is_stmt 0 view .LVU111
 665 0016 ADF80050 		strh	r5, [sp]	@ movhi
  76:Core/Src/sim800c.c ****     endSMS[1] = '\0';
 666              		.loc 1 76 5 is_stmt 1 view .LVU112
  76:Core/Src/sim800c.c ****     endSMS[1] = '\0';
 667              		.loc 1 76 15 is_stmt 0 view .LVU113
 668 001a 1A23     		movs	r3, #26
 669 001c 8DF80030 		strb	r3, [sp]
  77:Core/Src/sim800c.c ****     sprintf(smsATCommand, "AT+CMGS=\"%s\"\r\n", simNumber);
 670              		.loc 1 77 5 is_stmt 1 view .LVU114
  78:Core/Src/sim800c.c ****     if(sim800c_sendCommand("AT+CMGF=1\r\n", "OK\r\n", SIM_CHECK) != SIM_OK)
 671              		.loc 1 78 5 view .LVU115
 672 0020 2246     		mov	r2, r4
 673 0022 1549     		ldr	r1, .L56
 674 0024 01A8     		add	r0, sp, #4
 675 0026 FFF7FEFF 		bl	sprintf
 676              	.LVL49:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 18


  79:Core/Src/sim800c.c ****     {
 677              		.loc 1 79 5 view .LVU116
  79:Core/Src/sim800c.c ****     {
 678              		.loc 1 79 8 is_stmt 0 view .LVU117
 679 002a 0122     		movs	r2, #1
 680 002c 1349     		ldr	r1, .L56+4
 681 002e 1448     		ldr	r0, .L56+8
 682 0030 FFF7FEFF 		bl	sim800c_sendCommand
 683              	.LVL50:
  79:Core/Src/sim800c.c ****     {
 684              		.loc 1 79 7 view .LVU118
 685 0034 0128     		cmp	r0, #1
 686 0036 16D1     		bne	.L52
  83:Core/Src/sim800c.c ****     {
 687              		.loc 1 83 5 is_stmt 1 view .LVU119
  83:Core/Src/sim800c.c ****     {
 688              		.loc 1 83 8 is_stmt 0 view .LVU120
 689 0038 0122     		movs	r2, #1
 690 003a 1249     		ldr	r1, .L56+12
 691 003c 01A8     		add	r0, sp, #4
 692 003e FFF7FEFF 		bl	sim800c_sendCommand
 693              	.LVL51:
  83:Core/Src/sim800c.c ****     {
 694              		.loc 1 83 7 view .LVU121
 695 0042 0128     		cmp	r0, #1
 696 0044 11D1     		bne	.L53
  87:Core/Src/sim800c.c ****     {
 697              		.loc 1 87 5 is_stmt 1 view .LVU122
  87:Core/Src/sim800c.c ****     {
 698              		.loc 1 87 8 is_stmt 0 view .LVU123
 699 0046 0022     		movs	r2, #0
 700 0048 1146     		mov	r1, r2
 701 004a 3046     		mov	r0, r6
 702 004c FFF7FEFF 		bl	sim800c_sendCommand
 703              	.LVL52:
  87:Core/Src/sim800c.c ****     {
 704              		.loc 1 87 7 view .LVU124
 705 0050 0128     		cmp	r0, #1
 706 0052 0CD1     		bne	.L54
  91:Core/Src/sim800c.c ****     {
 707              		.loc 1 91 5 is_stmt 1 view .LVU125
  91:Core/Src/sim800c.c ****     {
 708              		.loc 1 91 8 is_stmt 0 view .LVU126
 709 0054 0022     		movs	r2, #0
 710 0056 1146     		mov	r1, r2
 711 0058 6846     		mov	r0, sp
 712 005a FFF7FEFF 		bl	sim800c_sendCommand
 713              	.LVL53:
  91:Core/Src/sim800c.c ****     {
 714              		.loc 1 91 7 view .LVU127
 715 005e 0128     		cmp	r0, #1
 716 0060 07D1     		bne	.L55
  95:Core/Src/sim800c.c **** 
 717              		.loc 1 95 1 view .LVU128
 718 0062 0EB0     		add	sp, sp, #56
 719              	.LCFI10:
 720              		.cfi_remember_state
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 19


 721              		.cfi_def_cfa_offset 16
 722              		@ sp needed
 723 0064 70BD     		pop	{r4, r5, r6, pc}
 724              	.LVL54:
 725              	.L52:
 726              	.LCFI11:
 727              		.cfi_restore_state
  81:Core/Src/sim800c.c ****     }
 728              		.loc 1 81 9 is_stmt 1 view .LVU129
 729 0066 FFF7FEFF 		bl	sim800c_errorHandle
 730              	.LVL55:
 731              	.L53:
  85:Core/Src/sim800c.c ****     }
 732              		.loc 1 85 9 view .LVU130
 733 006a FFF7FEFF 		bl	sim800c_errorHandle
 734              	.LVL56:
 735              	.L54:
  89:Core/Src/sim800c.c ****     }
 736              		.loc 1 89 9 view .LVU131
 737 006e FFF7FEFF 		bl	sim800c_errorHandle
 738              	.LVL57:
 739              	.L55:
  93:Core/Src/sim800c.c ****     }
 740              		.loc 1 93 9 view .LVU132
 741 0072 FFF7FEFF 		bl	sim800c_errorHandle
 742              	.LVL58:
 743              	.L57:
 744 0076 00BF     		.align	2
 745              	.L56:
 746 0078 00000000 		.word	.LC7
 747 007c 00000000 		.word	.LC5
 748 0080 10000000 		.word	.LC8
 749 0084 1C000000 		.word	.LC9
 750              		.cfi_endproc
 751              	.LFE73:
 753              		.global	simRxCplt
 754              		.global	simRxResponse
 755              		.global	simRxData
 756              		.global	simRxIndex
 757              		.global	simRxBuf
 758              		.section	.bss.simRxBuf,"aw",%nobits
 759              		.align	2
 760              		.set	.LANCHOR4,. + 0
 763              	simRxBuf:
 764 0000 00000000 		.space	100
 764      00000000 
 764      00000000 
 764      00000000 
 764      00000000 
 765              		.section	.bss.simRxCplt,"aw",%nobits
 766              		.set	.LANCHOR1,. + 0
 769              	simRxCplt:
 770 0000 00       		.space	1
 771              		.section	.bss.simRxData,"aw",%nobits
 772              		.set	.LANCHOR0,. + 0
 775              	simRxData:
 776 0000 00       		.space	1
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 20


 777              		.section	.bss.simRxIndex,"aw",%nobits
 778              		.align	2
 779              		.set	.LANCHOR3,. + 0
 782              	simRxIndex:
 783 0000 00000000 		.space	4
 784              		.section	.bss.simRxResponse,"aw",%nobits
 785              		.align	2
 786              		.set	.LANCHOR2,. + 0
 789              	simRxResponse:
 790 0000 00000000 		.space	100
 790      00000000 
 790      00000000 
 790      00000000 
 790      00000000 
 791              		.text
 792              	.Letext0:
 793              		.file 3 "d:\\10 2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
 794              		.file 4 "d:\\10 2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 795              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 796              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 797              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 798              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 799              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 800              		.file 10 "Core/Inc/sim800c.h"
 801              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 802              		.file 12 "d:\\10 2021.10\\arm-none-eabi\\include\\stdio.h"
 803              		.file 13 "d:\\10 2021.10\\arm-none-eabi\\include\\string.h"
 804              		.file 14 "<built-in>"
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 sim800c.c
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:18     .text.sim800c_debug:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:24     .text.sim800c_debug:00000000 sim800c_debug
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:56     .text.sim800c_debug:00000010 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:61     .text.sim800c_sendCommand:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:67     .text.sim800c_sendCommand:00000000 sim800c_sendCommand
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:204    .text.sim800c_sendCommand:00000098 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:213    .rodata.sim800c_callback.str1.4:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:217    .text.sim800c_callback:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:223    .text.sim800c_callback:00000000 sim800c_callback
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:294    .text.sim800c_callback:00000050 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:304    .text.sim800c_timerCallback:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:310    .text.sim800c_timerCallback:00000000 sim800c_timerCallback
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:388    .text.sim800c_timerCallback:0000005c $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:398    .rodata.sim800c_sleep.str1.4:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:402    .text.sim800c_sleep:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:408    .text.sim800c_sleep:00000000 sim800c_sleep
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:431    .text.sim800c_sleep:00000010 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:437    .rodata.sim800c_wakeup.str1.4:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:444    .text.sim800c_wakeup:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:450    .text.sim800c_wakeup:00000000 sim800c_wakeup
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:485    .text.sim800c_wakeup:00000024 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:492    .rodata.sim800c_errorHandle.str1.4:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:496    .text.sim800c_errorHandle:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:502    .text.sim800c_errorHandle:00000000 sim800c_errorHandle
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:543    .text.sim800c_errorHandle:00000010 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:548    .rodata.sim800c_init.str1.4:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:555    .text.sim800c_init:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:561    .text.sim800c_init:00000000 sim800c_init
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:605    .text.sim800c_init:00000028 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:612    .rodata.sim800c_sendSMS.str1.4:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:622    .text.sim800c_sendSMS:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:628    .text.sim800c_sendSMS:00000000 sim800c_sendSMS
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:746    .text.sim800c_sendSMS:00000078 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:769    .bss.simRxCplt:00000000 simRxCplt
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:789    .bss.simRxResponse:00000000 simRxResponse
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:775    .bss.simRxData:00000000 simRxData
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:782    .bss.simRxIndex:00000000 simRxIndex
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:763    .bss.simRxBuf:00000000 simRxBuf
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:759    .bss.simRxBuf:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:770    .bss.simRxCplt:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:776    .bss.simRxData:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:778    .bss.simRxIndex:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s:785    .bss.simRxResponse:00000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart1
HAL_UART_Receive_IT
strlen
HAL_UART_Transmit_IT
HAL_TIM_Base_Start_IT
strstr
memset
huart2
htim2
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccJpC3df.s 			page 22


HAL_TIM_Base_Stop_IT
strchr
memcpy
HAL_Delay
sprintf
